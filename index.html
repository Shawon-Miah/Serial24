<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Bangla Serial 24 - Watch Latest Episodes</title>

<meta property="og:title" content="Bangla Serial 24 - Latest Full Episodes" />
<meta property="og:description" content="Watch the newest episodes of Zee Bangla and Star Jalsha serials daily, all in one place." />
<meta property="og:url" content="https://serial24.github.io/" /> 
<meta property="og:type" content="website" />
<meta property="og:image" content="https://serial24.github.io/share-image-1200x630.png" /> 
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="fb:app_id" content="1446736823146490" />
<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "ugqovbrpxw");
</script>
<link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{--bg-main:#0f0f0f;--bg-card:#141414;--text-primary:#ffffff;--text-secondary:#aaaaaa;--brand-red:#e50914;--nav-bg:rgba(20,20,20,0.95);--plyr-color-main:#e50914;--plyr-video-control-color:#ffffff}*{box-sizing:border-box;tap-highlight-color:transparent}body{background-color:var(--bg-main);color:var(--text-primary);font-family:'Roboto',sans-serif;margin:0;padding:0;overflow-x:hidden}.navbar{display:flex;align-items:center;justify-content:space-between;padding:10px 4%;background:var(--nav-bg);position:sticky;top:0;z-index:100;border-bottom:1px solid #333;backdrop-filter:blur(10px)}.brand-container{display:flex;align-items:center;gap:12px;cursor:pointer;text-decoration:none}.logo-img{width:45px;height:45px;border-radius:50%;object-fit:cover;border:2px solid var(--brand-red)}.logo-text{font-size:22px;font-weight:800;color:white;letter-spacing:-0.5px}.logo-text span{color:var(--brand-red)}.nav-links{display:flex;gap:20px}.nav-btn{background:none;border:none;color:var(--text-secondary);font-size:16px;font-weight:600;cursor:pointer;padding:8px 12px;transition:0.3s;text-transform:uppercase}.nav-btn.active{color:white;border-bottom:2px solid var(--brand-red)}.search-box{background:#222;border:1px solid #333;padding:8px 15px;border-radius:20px;color:white;width:250px;outline:none;font-size:14px}.container{padding:20px 4%;min-height:80vh}.section-header{font-size:20px;font-weight:700;margin:30px 0 15px 0;display:flex;align-items:center}.section-header::before{content:'';display:block;width:4px;height:20px;background:var(--brand-red);margin-right:10px;border-radius:2px}.video-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:20px}.card{background:transparent;border-radius:8px;overflow:hidden;cursor:pointer;transition:transform 0.2s ease}.card:hover{transform:translateY(-5px)}.thumb{width:100%;aspect-ratio:16/9;object-fit:cover;background:#222;border-radius:8px}.info{padding:10px 0}.vid-title{font-size:15px;font-weight:600;margin-bottom:4px;color:#fff}.vid-date{font-size:13px;color:var(--text-secondary)}.loader{text-align:center;padding:100px;color:var(--text-secondary);font-size:18px}#player-virtual-page{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:9999;flex-direction:column;overflow-y:auto}#player-wrapper{position:relative;width:100%;max-width:1200px;margin:0 auto;aspect-ratio:16/9;background:#000}.plyr--full-ui input[type=range]{color:var(--brand-red)}.plyr__control--overlaid{background:rgba(229,9,20,0.9)}.plyr__control:hover{background:var(--brand-red)}#initial-play-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:50;display:flex;justify-content:center;align-items:center;backdrop-filter:blur(5px)}#initial-play-btn{background:var(--brand-red);color:white;border:none;padding:15px 40px;font-size:18px;font-weight:bold;border-radius:5px;cursor:pointer;box-shadow:0 0 20px rgba(229,9,20,0.5)}#spinner-loader-screen{position:absolute;top:0;left:0;width:100%;height:100%;background:#000;z-index:45;display:none;flex-direction:column;justify-content:center;align-items:center}.spinner{width:50px;height:50px;border:5px solid rgba(255,255,255,0.3);border-top:5px solid var(--brand-red);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:20px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}#floating-buttons-container{position:absolute;top:15px;right:15px;z-index:100;display:flex;gap:15px}.float-btn{background:rgba(0,0,0,0.5);color:white;border:1px solid rgba(255,255,255,0.3);width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;justify-content:center;align-items:center;font-size:18px}.float-btn:hover{background:var(--brand-red);border-color:var(--brand-red)}#center-play-pause-btn{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:60px;color:rgba(255,255,255,0.8);z-index:20;pointer-events:none;opacity:0;transition:opacity 0.3s}#video-details-container{padding:20px;max-width:1200px;margin:0 auto}#video-info-title{font-size:22px;font-weight:bold;margin-bottom:8px;line-height:1.3}#video-info-meta{font-size:14px;color:var(--text-secondary);margin-bottom:15px}.action-bar{display:flex;gap:15px;padding-bottom:20px;border-bottom:1px solid #333;margin-bottom:20px}.action-btn{background:#333;color:white;border:none;padding:10px 20px;border-radius:25px;cursor:pointer;display:flex;align-items:center;gap:8px;font-size:14px}#rec-section-header{margin-top:30px;border-top:1px solid #333;padding-top:20px}@media (max-width:768px){.navbar{flex-direction:column;gap:15px}.nav-links{width:100%;justify-content:center;gap:10px}.search-box{width:100%}}
</style>
</head>
<body oncontextmenu="return false;">

<div id="browsing-layer">
<nav class="navbar">
<div class="brand-container" onclick="switchTab('zee')">
<img src="https://scontent.fdac19-1.fna.fbcdn.net/v/t39.30808-6/509999472_122108670854909453_6522690275243650978_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=jMQ_ZgwhbaIQ7kNvwEyihk6&_nc_oc=Adlvr0JWlC2E-heV3jg-qu3K85wZIWCfInXZTPmhDC-gnPTMsRAinK6gzXoZBTyme1g&_nc_zt=23&_nc_ht=scontent.fdac19-1.fna&_nc_gid=uhqvcTT8g26QpEXjpWAvnA&oh=00_AfmbTqa0ZwXHH5w8jj9zv0DgT2tbpue4u3DRfDTCzium2g&oe=69387FF8" class="logo-img" alt="Bangla Serial 24">
<div class="logo-text">Bangla <span>Serial 24</span></div>
</div>

<div class="nav-links">
<button class="nav-btn active" id="btn-zee" onclick="switchTab('zee')">Zee Bangla</button>
<button class="nav-btn" id="btn-star" onclick="switchTab('star')">Star Jalsha</button>
</div>
<input type="text" id="search" class="search-box" placeholder="Search...">
</nav>

<div class="container">
<div id="loader" class="loader">Fetching episodes...</div>
<div id="content-area"></div>
</div>
</div>

<div id="player-virtual-page">
<div id="player-wrapper">
<video id="player" playsinline controls data-poster="">
<source src="" type="video/mp4" />
</video>
<div id="initial-play-overlay"><button id="initial-play-btn"><i class="fas fa-play"></i> Watch Now</button></div>
<div id="spinner-loader-screen"><div class="spinner"></div><div>Connecting...</div></div>
<div id="center-play-pause-btn"><i class="fas fa-play"></i></div>
<div id="floating-buttons-container"><button id="exit-player-btn" class="float-btn" title="Close"><i class="fas fa-times"></i></button></div>
</div>

<div id="video-details-container">
<div id="video-info-title">Title</div>
<div id="video-info-meta"><span id="video-info-date">...</span> â€¢ <span id="video-info-cat">...</span></div>
<div class="action-bar">
<button class="action-btn"><i class="fas fa-thumbs-up"></i> Like</button>
<button class="action-btn" onclick="shareVideo()"><i class="fas fa-share"></i> Share</button>
</div>
<div id="rec-section-header" class="section-header">More to Watch</div>
<div class="video-grid" id="recommendations-grid"></div>
</div>
</div>

<script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>

<script>
// ============================================
// CONFIGURATION (New API URL Implanted Here)
// ============================================
const API_URL = "https://script.google.com/macros/s/AKfycbx-nV-eslI2hJDxDytn-kfvMCPdFNze101Fy0nph-eRzUEOcTx5Eeq1vlNzJUAYVzKo/exec";
// ============================================

let allData = [];
let player = null;
let isFirstPlayAttempt = true;
let centerButtonTimer;

fetch(API_URL).then(res => res.json()).then(data => {
    document.getElementById('loader').style.display = 'none';
    allData = data;
    switchTab('zee');
});

function switchTab(tab) {
    const content = document.getElementById('content-area');
    content.innerHTML = '';
    document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
    if(tab !== 'search') document.getElementById('btn-' + tab)?.classList.add('active');

    if (tab === 'zee') renderFullPage('Zee Bangla Serials', 'zee');
    else if (tab === 'star') renderFullPage('Star Jalsha Serials', 'star');
}

function renderFullPage(title, keyword) {
    const container = document.getElementById('content-area');
    let items = allData.filter(d => d.category.toLowerCase().includes(keyword));
    if (items.length === 0) { container.innerHTML = `<div class="loader">No shows found.</div>`; return; }
    shuffleArray(items);
    container.innerHTML = `<div class="section-header">${title}</div><div class="video-grid">${items.map(item => createCard(item)).join('')}</div>`;
}

function createCard(item) {
    const itemString = encodeURIComponent(JSON.stringify(item));
    return `<div class="card" onclick="openEnhancedPlayer('${itemString}')">
    <img src="${item.thumbnail}" class="thumb" loading="lazy">
    <div class="info"><div class="vid-title">${item.title}</div><div class="vid-date">${formatPrettyDate(item.date)}</div></div>
    </div>`;
}

function formatPrettyDate(isoString) {
    if(!isoString) return "Recently Updated";
    try {
        const date = new Date(isoString);
        return date.toLocaleDateString('en-US', { day: '2-digit', month: 'short', year: 'numeric' });
    } catch(e) { return isoString; }
}

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

document.getElementById('search').addEventListener('input', (e) => {
    const term = e.target.value.toLowerCase();
    const content = document.getElementById('content-area');
    document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
    if (term === '') { switchTab('zee'); return; }
    let filtered = allData.filter(item => item.title.toLowerCase().includes(term));
    content.innerHTML = `<div class="section-header">Search Results</div><div class="video-grid">${filtered.map(item => createCard(item)).join('')}</div>`;
});

document.addEventListener('DOMContentLoaded', () => {
    player = new Plyr('#player', {
        controls: ['play-large', 'play', 'progress', 'current-time', 'mute', 'volume', 'settings', 'fullscreen'],
        autoplay: false,
        resetOnEnd: true
    });

    player.on('play', () => showCenterIcon('fa-play', false));
    player.on('pause', () => showCenterIcon('fa-pause', true));
});

function openEnhancedPlayer(encodedItem) {
    const item = JSON.parse(decodeURIComponent(encodedItem));

    document.getElementById('video-info-title').innerText = item.title;
    document.getElementById('video-info-date').innerText = formatPrettyDate(item.date);
    document.getElementById('video-info-cat').innerText = item.category;

    // ============================================
    // CLARITY TRACKING
    // ============================================
    if (typeof clarity === "function") {
        clarity("set", "Serial_Name", item.title);
        clarity("event", "Video_Clicked");
    }

    player.source = {
        type: 'video',
        title: item.title,
        poster: item.thumbnail,
        sources: [{ src: item.videoUrl, type: 'video/mp4' }]
    };

    renderRecommendations(item.title);

    isFirstPlayAttempt = true;
    document.getElementById('initial-play-overlay').style.display = 'flex';
    document.getElementById('spinner-loader-screen').style.display = 'none';
    document.getElementById('browsing-layer').style.display = 'none';
    document.getElementById('player-virtual-page').style.display = 'flex';
    document.getElementById('player-virtual-page').scrollTop = 0;
}

function renderRecommendations(currentTitle) {
    const recContainer = document.getElementById('recommendations-grid');
    let recs = allData.filter(d => d.title !== currentTitle);
    shuffleArray(recs);
    recs = recs.slice(0, 12);
    recContainer.innerHTML = recs.map(item => createCard(item)).join('');
}

function shareVideo() {
    const shareData = {
        title: 'Bangla Serial 24',
        text: 'Watch latest Serial videos!',
        url: 'https://serial24.github.io/'
    };
    if (navigator.share) {
        navigator.share(shareData);
    } else {
        navigator.clipboard.writeText(shareData.url);
        alert('Link copied: ' + shareData.url);
    }
}

document.getElementById('exit-player-btn').addEventListener('click', () => {
    player.stop();
    document.getElementById('player-virtual-page').style.display = 'none';
    document.getElementById('browsing-layer').style.display = 'block';
    if (document.fullscreenElement) document.exitFullscreen();
});

document.getElementById('initial-play-btn').addEventListener('click', () => {
    if (isFirstPlayAttempt) {
        document.getElementById('initial-play-overlay').style.display = 'none';
        document.getElementById('spinner-loader-screen').style.display = 'flex';
        setTimeout(() => {
            document.getElementById('spinner-loader-screen').style.display = 'none';
            player.play();
            isFirstPlayAttempt = false;
        }, 1000);
    }
});

function showCenterIcon(iconClass, show) {
    const btn = document.getElementById('center-play-pause-btn');
    btn.innerHTML = `<i class="fas ${iconClass}"></i>`;
    if(show) {
        btn.style.opacity = '1';
        clearTimeout(centerButtonTimer);
        centerButtonTimer = setTimeout(() => { btn.style.opacity = '0'; }, 800);
    } else { btn.style.opacity = '0'; }
}

document.onkeydown = function(e) {
    if(event.keyCode == 123) return false;
    if(e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) return false;
    if(e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) return false;
    if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
}

</script>
</body>
</html>
